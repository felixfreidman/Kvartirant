"use strict";var allNavLinks,budgetInput,customSelect,selectContainer,selectOptions,savedString,pageLocation=window.location.href;pageLocation.includes("profile")&&(localStorage.setItem("logged",!0),(allNavLinks=document.querySelectorAll(".profile-navigation__link")).forEach(function(e){e.href.includes("account-profile")&&pageLocation.includes("account-profile")&&e.classList.add("profile-navigation__link--active"),e.href.includes("subscription-profile")&&pageLocation.includes("subscription-profile")&&e.classList.add("profile-navigation__link--active"),e.href.includes("settings-profile")&&pageLocation.includes("settings-profile")&&e.classList.add("profile-navigation__link--active")})),document.getElementById("userBudgetInput")&&($(function(){$("#userBudget").slider({range:"min",min:0,max:2e5,step:1e3,value:5e4,slide:function(e,t){$("#userBudgetInput").val(t.value)}})}),(budgetInput=document.getElementById("userBudgetInput")).addEventListener("input",function(){var e=budgetInput.value;$("#userBudget").slider("value",e)})),document.getElementById("customSelect")&&(customSelect=document.getElementById("customSelect"),selectContainer=document.querySelector(".pref-slide__select-container"),selectOptions=selectContainer.querySelectorAll(".pref-slide__option"),savedString=customSelect.textContent,customSelect.addEventListener("click",function(){setTimeout(function(){selectContainer.classList.remove("js--hidden")},100)}),window.onclick=function(e){e.target==selectContainer||e.target.classList.contains("pref-slide__option")||e.target.classList.contains("pref-slide__select")||selectContainer.classList.add("js--hidden")},selectOptions.forEach(function(e,t){e.addEventListener("click",function(){0!=t?(selectOptions[0].classList.remove("pref-slide__option--active"),e.classList.toggle("pref-slide__option--active"),customSelect.textContent=customSelect.textContent.replace("Все районы",""),""==customSelect.textContent?customSelect.textContent="".concat(e.textContent.slice(0,5)):customSelect.textContent="".concat(customSelect.textContent,", ").concat(e.textContent.slice(0,5))):(selectOptions.forEach(function(e){e.classList.remove("pref-slide__option--active")}),e.classList.add("pref-slide__option--active"),customSelect.textContent="Все районы")})}));var account,opener,editIcons=document.querySelectorAll(".change-icon");editIcons.forEach(function(i){i.addEventListener("click",function(){var e,t,n,c,o=i.id;"changePassword"!==o?(t=(e=(c=document.querySelector(".".concat(o))).querySelector("span")).textContent.trim(),n=document.createElement("input"),e.classList.add("js--hidden"),i.classList.add("js--hidden"),n.value=t,n.type="text",n.classList.add("editInput"),c.appendChild(n)):(n=(c=document.querySelector(".".concat(o))).querySelector(".info-value"),o=c.querySelector(".info-label"),c=c.querySelector(".info-password"),n.classList.add("js--hidden"),o.classList.add("js--hidden"),c.classList.remove("js--hidden"))})}),localStorage.getItem("logged")&&"true"==localStorage.getItem("logged")&&(account=document.querySelector(".account")).classList.add("account--logged"),document.getElementById("menuOpener")&&((opener=document.getElementById("menuOpener")).addEventListener("click",function(){opener.classList.add("opener--active")}),window.onclick=function(e){e.target==opener||e.target.classList.contains("checkSpan")||opener.classList.remove("opener--active")});var roomChecks=document.querySelectorAll(".custom-checkbox");roomChecks.forEach(function(e){e.addEventListener("click",function(){e.classList.toggle("custom-checkbox--active")})});var allNextButtons,allSlides,sliderContainers=document.querySelectorAll(".swiper-adt");sliderContainers.forEach(function(e,t){var n=e.querySelector(".swiper-pagination");e.classList.add("swiper-adt--".concat(t)),n.classList.add("swiper-pagination--".concat(t));new Swiper(".swiper-adt--".concat(t),{speed:400,spaceBetween:0,slidesPerView:1,effect:"cards",direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination--".concat(t),clickable:!0}})}),window.location.href.includes("prefs")&&(allNextButtons=document.querySelectorAll(".pref-slide__button"),allSlides=document.querySelectorAll(".pref-slide"),allNextButtons.forEach(function(e,t){e.addEventListener("click",function(){allSlides[t].classList.add("js--hidden"),allSlides[t+1].classList.remove("js--hidden")})}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRQcm9maWxlTmF2aWdhdGlvbi5qcyIsImJ1ZGdldFNsaWRlci5qcyIsImN1c3RvbVNlbGVjdC5qcyIsImVkaXRJbmZvLmpzIiwibG9nU3RhdHVzLmpzIiwicHJvZmlsZU1lbnVPcGVuZXIuanMiLCJyb29tQ2hlY2tib3guanMiLCJzd2lwZXIuanMiLCJ0ZXN0TG9naWNzLmpzIl0sIm5hbWVzIjpbImFsbE5hdkxpbmtzIiwiYnVkZ2V0SW5wdXQiLCJjdXN0b21TZWxlY3QiLCJzZWxlY3RDb250YWluZXIiLCJzZWxlY3RPcHRpb25zIiwic2F2ZWRTdHJpbmciLCJwYWdlTG9jYXRpb24iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpbmNsdWRlcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwibGluayIsImNsYXNzTGlzdCIsImFkZCIsImdldEVsZW1lbnRCeUlkIiwiJCIsInNsaWRlciIsInJhbmdlIiwibWluIiwibWF4Iiwic3RlcCIsInZhbHVlIiwic2xpZGUiLCJldmVudCIsInVpIiwidmFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlSW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwib25jbGljayIsInRhcmdldCIsImNvbnRhaW5zIiwib3B0aW9uIiwiaW5kZXgiLCJ0b2dnbGUiLCJyZXBsYWNlIiwiY29uY2F0Iiwic2xpY2UiLCJpbm5lcl9vcHRpb24iLCJhY2NvdW50Iiwib3BlbmVyIiwiZWRpdEljb25zIiwiaWNvbiIsInZhbHVlVGV4dENvbnRhaW5lciIsInZhbHVlQ29udGFpbmVyIiwicGFzc3dvcmRDb250YWluZXIiLCJJRCIsImlkIiwiZWRpdFZhbHVlQ29udGFpbmVyIiwidHJpbSIsImVkaXRJbnB1dCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXBwZW5kQ2hpbGQiLCJsYWJlbENvbnRhaW5lciIsImdldEl0ZW0iLCJyb29tQ2hlY2tzIiwicm9vbSIsImFsbE5leHRCdXR0b25zIiwiYWxsU2xpZGVzIiwic2xpZGVyQ29udGFpbmVycyIsInN3aXBlciIsInN3aXBlclBhZ2luYXRpb24iLCJTd2lwZXIiLCJzcGVlZCIsInNwYWNlQmV0d2VlbiIsInNsaWRlc1BlclZpZXciLCJlZmZlY3QiLCJkaXJlY3Rpb24iLCJsb29wIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwiYnV0dG9uIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUlBQSxZQ1dBQyxZQ2JBQyxhQUNBQyxnQkFDQUMsY0FDQUMsWUZMQUMsYUFBQUMsT0FBQUMsU0FBQUMsS0FFQUgsYUFBQUksU0FBQSxhQUNBQyxhQUFBQyxRQUFBLFVBQUEsSUFDQVosWUFBQWEsU0FBQUMsaUJBQUEsOEJBQ0FDLFFBQUEsU0FBQUMsR0FDQUEsRUFBQVAsS0FBQUMsU0FBQSxvQkFDQUosYUFBQUksU0FBQSxvQkFDQU0sRUFBQUMsVUFBQUMsSUFBQSxvQ0FFQUYsRUFBQVAsS0FBQUMsU0FBQSx5QkFDQUosYUFBQUksU0FBQSx5QkFDQU0sRUFBQUMsVUFBQUMsSUFBQSxvQ0FFQUYsRUFBQVAsS0FBQUMsU0FBQSxxQkFDQUosYUFBQUksU0FBQSxxQkFDQU0sRUFBQUMsVUFBQUMsSUFBQSx1Q0NoQkFMLFNBQUFNLGVBQUEscUJBRUFDLEVBQUEsV0FDQUEsRUFBQSxlQUFBQyxPQUFBLENBQ0FDLE1BQUEsTUFDQUMsSUFBQSxFQUNBQyxJQUFBLElBQ0FDLEtBQUEsSUFDQUMsTUFBQSxJQUNBQyxNQUFBLFNBQUFDLEVBQUFDLEdBQ0FULEVBQUEsb0JBQUFVLElBQUFELEVBQUFILGFBS0F6QixZQUFBWSxTQUFBTSxlQUFBLG9CQUVBWSxpQkFBQSxRQUFBLFdBQ0EsSUFBQUMsRUFBQS9CLFlBQUF5QixNQUNBTixFQUFBLGVBQUFDLE9BQUEsUUFBQVcsTUNuQkFuQixTQUFBTSxlQUFBLGtCQUVBakIsYUFBQVcsU0FBQU0sZUFBQSxnQkFDQWhCLGdCQUFBVSxTQUFBb0IsY0FBQSxpQ0FDQTdCLGNBQUFELGdCQUFBVyxpQkFBQSx1QkFDQVQsWUFBQUgsYUFBQWdDLFlBRUFoQyxhQUFBNkIsaUJBQUEsUUFBQSxXQUNBSSxXQUFBLFdBQ0FoQyxnQkFBQWMsVUFBQW1CLE9BQUEsZUFDQSxPQUdBN0IsT0FBQThCLFFBQUEsU0FBQVQsR0FDQUEsRUFBQVUsUUFBQW5DLGlCQUFBeUIsRUFBQVUsT0FBQXJCLFVBQUFzQixTQUFBLHVCQUFBWCxFQUFBVSxPQUFBckIsVUFBQXNCLFNBQUEsdUJBQ0FwQyxnQkFBQWMsVUFBQUMsSUFBQSxlQUtBZCxjQUFBVyxRQUFBLFNBQUF5QixFQUFBQyxHQUNBRCxFQUFBVCxpQkFBQSxRQUFBLFdBQ0EsR0FBQVUsR0FDQXJDLGNBQUEsR0FBQWEsVUFBQW1CLE9BQUEsOEJBQ0FJLEVBQUF2QixVQUFBeUIsT0FBQSw4QkFDQXhDLGFBQUFnQyxZQUFBaEMsYUFBQWdDLFlBQUFTLFFBQUEsYUFBQSxJQUNBLElBQUF6QyxhQUFBZ0MsWUFDQWhDLGFBQUFnQyxZQUFBLEdBQUFVLE9BQUFKLEVBQUFOLFlBQUFXLE1BQUEsRUFBQSxJQUVBM0MsYUFBQWdDLFlBQUEsR0FBQVUsT0FBQTFDLGFBQUFnQyxZQUFBLE1BQUFVLE9BQUFKLEVBQUFOLFlBQUFXLE1BQUEsRUFBQSxNQUdBekMsY0FBQVcsUUFBQSxTQUFBK0IsR0FDQUEsRUFBQTdCLFVBQUFtQixPQUFBLGdDQUVBSSxFQUFBdkIsVUFBQUMsSUFBQSw4QkFDQWhCLGFBQUFnQyxZQUFBLG1CQ3BDQSxJQ0VBYSxRQ0RBQyxPRkRBQyxVQUFBcEMsU0FBQUMsaUJBQUEsZ0JBRUFtQyxVQUFBbEMsUUFBQSxTQUFBbUMsR0FDQUEsRUFBQW5CLGlCQUFBLFFBQUEsV0FDQSxJQUlBb0IsRUFDQXpCLEVBWUEwQixFQUVBQyxFQW5CQUMsRUFBQUosRUFBQUssR0FFQSxtQkFBQUQsR0FHQTVCLEdBREF5QixHQURBSyxFQUFBM0MsU0FBQW9CLGNBQUEsSUFBQVcsT0FBQVUsS0FDQXJCLGNBQUEsU0FDQUMsWUFBQXVCLE9BQ0FDLEVBQUE3QyxTQUFBOEMsY0FBQSxTQUdBUixFQUFBbEMsVUFBQUMsSUFBQSxjQUNBZ0MsRUFBQWpDLFVBQUFDLElBQUEsY0FDQXdDLEVBQUFoQyxNQUFBQSxFQUNBZ0MsRUFBQUUsS0FBQSxPQUNBRixFQUFBekMsVUFBQUMsSUFBQSxhQUNBc0MsRUFBQUssWUFBQUgsS0FHQU4sR0FEQUksRUFBQTNDLFNBQUFvQixjQUFBLElBQUFXLE9BQUFVLEtBQ0FyQixjQUFBLGVBQ0E2QixFQUFBTixFQUFBdkIsY0FBQSxlQUNBb0IsRUFBQUcsRUFBQXZCLGNBQUEsa0JBQ0FtQixFQUFBbkMsVUFBQUMsSUFBQSxjQUNBNEMsRUFBQTdDLFVBQUFDLElBQUEsY0FDQW1DLEVBQUFwQyxVQUFBbUIsT0FBQSxtQkMxQkF6QixhQUFBb0QsUUFBQSxXQUNBLFFBQUFwRCxhQUFBb0QsUUFBQSxZQUNBaEIsUUFBQWxDLFNBQUFvQixjQUFBLGFBQ0FoQixVQUFBQyxJQUFBLG1CQ0hBTCxTQUFBTSxlQUFBLGlCQUNBNkIsT0FBQW5DLFNBQUFNLGVBQUEsZUFDQVksaUJBQUEsUUFBQSxXQUNBaUIsT0FBQS9CLFVBQUFDLElBQUEsb0JBRUFYLE9BQUE4QixRQUFBLFNBQUFULEdBQ0FBLEVBQUFVLFFBQUFVLFFBQUFwQixFQUFBVSxPQUFBckIsVUFBQXNCLFNBQUEsY0FDQVMsT0FBQS9CLFVBQUFtQixPQUFBLG9CQ05BLElBQUE0QixXQUFBbkQsU0FBQUMsaUJBQUEsb0JBRUFrRCxXQUFBakQsUUFBQSxTQUFBa0QsR0FDQUEsRUFBQWxDLGlCQUFBLFFBQUEsV0FDQWtDLEVBQUFoRCxVQUFBeUIsT0FBQSwrQkNGQSxJQ0ZBd0IsZUFDQUMsVURDQUMsaUJBQUF2RCxTQUFBQyxpQkFBQSxlQUVBc0QsaUJBQUFyRCxRQUFBLFNBQUFzRCxFQUFBNUIsR0FDQSxJQUFBNkIsRUFBQUQsRUFBQXBDLGNBQUEsc0JBQ0FvQyxFQUFBcEQsVUFBQUMsSUFBQSxlQUFBMEIsT0FBQUgsSUFDQTZCLEVBQUFyRCxVQUFBQyxJQUFBLHNCQUFBMEIsT0FBQUgsSUFDQSxJQUFBOEIsT0FBQSxnQkFBQTNCLE9BQUFILEdBQUEsQ0FDQStCLE1BQUEsSUFDQUMsYUFBQSxFQUNBQyxjQUFBLEVBQ0FDLE9BQUEsUUFDQUMsVUFBQSxhQUNBQyxNQUFBLEVBQ0FDLFdBQUEsQ0FDQUMsR0FBQSx1QkFBQW5DLE9BQUFILEdBQ0F1QyxXQUFBLE9DbEJBekUsT0FBQUMsU0FBQUMsS0FBQUMsU0FBQSxXQUNBd0QsZUFBQXJELFNBQUFDLGlCQUFBLHVCQUNBcUQsVUFBQXRELFNBQUFDLGlCQUFBLGVBQ0FvRCxlQUFBbkQsUUFBQSxTQUFBa0UsRUFBQXhDLEdBQ0F3QyxFQUFBbEQsaUJBQUEsUUFBQSxXQUNBb0MsVUFBQTFCLEdBQUF4QixVQUFBQyxJQUFBLGNBQ0FpRCxVQUFBMUIsRUFBQSxHQUFBeEIsVUFBQW1CLE9BQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhZ2VMb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG5cclxuaWYgKHBhZ2VMb2NhdGlvbi5pbmNsdWRlcygncHJvZmlsZScpKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9nZ2VkJywgdHJ1ZSk7XHJcbiAgICBjb25zdCBhbGxOYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLW5hdmlnYXRpb25fX2xpbmsnKTtcclxuICAgIGFsbE5hdkxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgaWYgKGxpbmsuaHJlZi5pbmNsdWRlcygnYWNjb3VudC1wcm9maWxlJylcclxuICAgICAgICAgICAgJiYgcGFnZUxvY2F0aW9uLmluY2x1ZGVzKCdhY2NvdW50LXByb2ZpbGUnKSkge1xyXG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtbmF2aWdhdGlvbl9fbGluay0tYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaW5rLmhyZWYuaW5jbHVkZXMoJ3N1YnNjcmlwdGlvbi1wcm9maWxlJylcclxuICAgICAgICAgICAgJiYgcGFnZUxvY2F0aW9uLmluY2x1ZGVzKCdzdWJzY3JpcHRpb24tcHJvZmlsZScpKSB7XHJcbiAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1uYXZpZ2F0aW9uX19saW5rLS1hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxpbmsuaHJlZi5pbmNsdWRlcygnc2V0dGluZ3MtcHJvZmlsZScpXHJcbiAgICAgICAgICAgICYmIHBhZ2VMb2NhdGlvbi5pbmNsdWRlcygnc2V0dGluZ3MtcHJvZmlsZScpKSB7XHJcbiAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1uYXZpZ2F0aW9uX19saW5rLS1hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59IiwiaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyQnVkZ2V0SW5wdXQnKSkge1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIjdXNlckJ1ZGdldFwiKS5zbGlkZXIoe1xyXG4gICAgICAgICAgICByYW5nZTogXCJtaW5cIixcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBtYXg6IDIwMDAwMCxcclxuICAgICAgICAgICAgc3RlcDogMTAwMCxcclxuICAgICAgICAgICAgdmFsdWU6IDUwMDAwLFxyXG4gICAgICAgICAgICBzbGlkZTogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG4gICAgICAgICAgICAgICAgJChcIiN1c2VyQnVkZ2V0SW5wdXRcIikudmFsKHVpLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgYnVkZ2V0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckJ1ZGdldElucHV0Jyk7XHJcblxyXG4gICAgYnVkZ2V0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWVJbnB1dCA9IGJ1ZGdldElucHV0LnZhbHVlO1xyXG4gICAgICAgICQoXCIjdXNlckJ1ZGdldFwiKS5zbGlkZXIoXCJ2YWx1ZVwiLCB2YWx1ZUlucHV0KTtcclxuICAgIH0pXHJcbn0iLCJpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbVNlbGVjdCcpKSB7XHJcblxyXG4gICAgY29uc3QgY3VzdG9tU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbVNlbGVjdCcpO1xyXG4gICAgY29uc3Qgc2VsZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWYtc2xpZGVfX3NlbGVjdC1jb250YWluZXInKTtcclxuICAgIGNvbnN0IHNlbGVjdE9wdGlvbnMgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnByZWYtc2xpZGVfX29wdGlvbicpO1xyXG4gICAgbGV0IHNhdmVkU3RyaW5nID0gY3VzdG9tU2VsZWN0LnRleHRDb250ZW50O1xyXG5cclxuICAgIGN1c3RvbVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfSlcclxuXHJcbiAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgIT0gc2VsZWN0Q29udGFpbmVyICYmICFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmVmLXNsaWRlX19vcHRpb24nKSAmJiAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJlZi1zbGlkZV9fc2VsZWN0JykpIHtcclxuICAgICAgICAgICAgc2VsZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHNlbGVjdE9wdGlvbnMuZm9yRWFjaCgob3B0aW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdE9wdGlvbnNbMF0uY2xhc3NMaXN0LnJlbW92ZSgncHJlZi1zbGlkZV9fb3B0aW9uLS1hY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ3ByZWYtc2xpZGVfX29wdGlvbi0tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPSBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQucmVwbGFjZSgn0JLRgdC1INGA0LDQudC+0L3RiycsICcnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPSBgJHtvcHRpb24udGV4dENvbnRlbnQuc2xpY2UoMCwgNSl9YFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPSBgJHtjdXN0b21TZWxlY3QudGV4dENvbnRlbnR9LCAke29wdGlvbi50ZXh0Q29udGVudC5zbGljZSgwLCA1KX1gXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RPcHRpb25zLmZvckVhY2goKGlubmVyX29wdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlubmVyX29wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwcmVmLXNsaWRlX19vcHRpb24tLWFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5jbGFzc0xpc3QuYWRkKCdwcmVmLXNsaWRlX19vcHRpb24tLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0LnRleHRDb250ZW50ID0gJ9CS0YHQtSDRgNCw0LnQvtC90YsnO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59IiwiY29uc3QgZWRpdEljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYW5nZS1pY29uJyk7XHJcblxyXG5lZGl0SWNvbnMuZm9yRWFjaChpY29uID0+IHtcclxuICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgSUQgPSBpY29uLmlkO1xyXG5cclxuICAgICAgICBpZiAoSUQgIT09ICdjaGFuZ2VQYXNzd29yZCcpIHtcclxuICAgICAgICAgICAgY29uc3QgZWRpdFZhbHVlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SUR9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlVGV4dENvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVUZXh0Q29udGFpbmVyLnRleHRDb250ZW50LnRyaW0oKTtcclxuICAgICAgICAgICAgY29uc3QgZWRpdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YWx1ZVRleHRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgZWRpdElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGVkaXRJbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICBlZGl0SW5wdXQuY2xhc3NMaXN0LmFkZCgnZWRpdElucHV0Jyk7XHJcbiAgICAgICAgICAgIGVkaXRWYWx1ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChlZGl0SW5wdXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVkaXRWYWx1ZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke0lEfWApO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZUNvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW5mby12YWx1ZScpO1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbENvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW5mby1sYWJlbCcpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXNzd29yZENvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW5mby1wYXNzd29yZCcpXHJcbiAgICAgICAgICAgIHZhbHVlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgbGFiZWxDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgICAgICBwYXNzd29yZENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSkiLCJpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZCcpKSB7XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZCcpID09ICd0cnVlJykge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3VudCcpO1xyXG4gICAgICAgIGFjY291bnQuY2xhc3NMaXN0LmFkZCgnYWNjb3VudC0tbG9nZ2VkJyk7XHJcbiAgICB9XHJcbn0iLCJpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVPcGVuZXInKSkge1xyXG4gICAgY29uc3Qgb3BlbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVPcGVuZXInKTtcclxuICAgIG9wZW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBvcGVuZXIuY2xhc3NMaXN0LmFkZCgnb3BlbmVyLS1hY3RpdmUnKVxyXG4gICAgfSlcclxuICAgIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPSBvcGVuZXIgJiYgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrU3BhbicpKSB7XHJcbiAgICAgICAgICAgIG9wZW5lci5jbGFzc0xpc3QucmVtb3ZlKFwib3BlbmVyLS1hY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsIlxyXG5jb25zdCByb29tQ2hlY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS1jaGVja2JveCcpO1xyXG5cclxucm9vbUNoZWNrcy5mb3JFYWNoKHJvb20gPT4ge1xyXG4gICAgcm9vbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICByb29tLmNsYXNzTGlzdC50b2dnbGUoJ2N1c3RvbS1jaGVja2JveC0tYWN0aXZlJylcclxuICAgIH0pXHJcbn0pXHJcbiIsIi8vIFN3aXBlciBTZWN0aW9uXHJcblxyXG5cclxuY29uc3Qgc2xpZGVyQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItYWR0Jyk7XHJcblxyXG5zbGlkZXJDb250YWluZXJzLmZvckVhY2goKHN3aXBlciwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IHN3aXBlclBhZ2luYXRpb24gPSBzd2lwZXIucXVlcnlTZWxlY3RvcignLnN3aXBlci1wYWdpbmF0aW9uJyk7XHJcbiAgICBzd2lwZXIuY2xhc3NMaXN0LmFkZChgc3dpcGVyLWFkdC0tJHtpbmRleH1gKTtcclxuICAgIHN3aXBlclBhZ2luYXRpb24uY2xhc3NMaXN0LmFkZChgc3dpcGVyLXBhZ2luYXRpb24tLSR7aW5kZXh9YCk7XHJcbiAgICBjb25zdCBhZHRTd2lwZXIgPSBuZXcgU3dpcGVyKGAuc3dpcGVyLWFkdC0tJHtpbmRleH1gLCB7XHJcbiAgICAgICAgc3BlZWQ6IDQwMCxcclxuICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICBlZmZlY3Q6ICdjYXJkcycsXHJcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICAgIGVsOiBgLnN3aXBlci1wYWdpbmF0aW9uLS0ke2luZGV4fWAsXHJcbiAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxufSk7IiwiaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdwcmVmcycpKSB7XHJcbiAgICBjb25zdCBhbGxOZXh0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcmVmLXNsaWRlX19idXR0b24nKTtcclxuICAgIGNvbnN0IGFsbFNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcmVmLXNsaWRlJyk7XHJcbiAgICBhbGxOZXh0QnV0dG9ucy5mb3JFYWNoKChidXR0b24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBhbGxTbGlkZXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgYWxsU2xpZGVzW2luZGV4ICsgMV0uY2xhc3NMaXN0LnJlbW92ZSgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59Il19
