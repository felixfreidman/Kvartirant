"use strict";var allNavLinks,budgetInput,customSelect,selectContainer,selectOptions,savedString,pageLocation=window.location.href;pageLocation.includes("profile")&&(localStorage.setItem("logged",!0),(allNavLinks=document.querySelectorAll(".profile-navigation__link")).forEach(function(e){e.href.includes("account-profile")&&pageLocation.includes("account-profile")&&e.classList.add("profile-navigation__link--active"),e.href.includes("subscription-profile")&&pageLocation.includes("subscription-profile")&&e.classList.add("profile-navigation__link--active"),e.href.includes("settings-profile")&&pageLocation.includes("settings-profile")&&e.classList.add("profile-navigation__link--active")})),document.getElementById("userBudgetInput")&&($(function(){$("#userBudget").slider({range:"min",min:0,max:2e5,step:1e3,value:5e4,slide:function(e,t){$("#userBudgetInput").val(t.value)}})}),(budgetInput=document.getElementById("userBudgetInput")).addEventListener("input",function(){var e=budgetInput.value;$("#userBudget").slider("value",e)})),document.getElementById("customSelect")&&(customSelect=document.getElementById("customSelect"),selectContainer=document.querySelector(".pref-slide__select-container"),selectOptions=selectContainer.querySelectorAll(".pref-slide__option"),savedString=customSelect.textContent,customSelect.addEventListener("click",function(){setTimeout(function(){selectContainer.classList.remove("js--hidden")},100)}),window.onclick=function(e){e.target==selectContainer||e.target.classList.contains("pref-slide__option")||e.target.classList.contains("pref-slide__select")||selectContainer.classList.add("js--hidden")},selectOptions.forEach(function(e,t){e.addEventListener("click",function(){0!=t?(selectOptions[0].classList.remove("pref-slide__option--active"),e.classList.toggle("pref-slide__option--active"),customSelect.textContent=customSelect.textContent.replace("Все районы",""),""==customSelect.textContent?customSelect.textContent="".concat(e.textContent.slice(0,5)):customSelect.textContent="".concat(customSelect.textContent,", ").concat(e.textContent.slice(0,5))):(selectOptions.forEach(function(e){e.classList.remove("pref-slide__option--active")}),e.classList.add("pref-slide__option--active"),customSelect.textContent="Все районы")})}));var account,editIcons=document.querySelectorAll(".change-icon");editIcons.forEach(function(i){i.addEventListener("click",function(){var e,t,n,c,o=i.id;"changePassword"!==o?(t=(e=(c=document.querySelector(".".concat(o))).querySelector("span")).textContent.trim(),n=document.createElement("input"),e.classList.add("js--hidden"),i.classList.add("js--hidden"),n.value=t,n.type="text",n.classList.add("editInput"),c.appendChild(n)):(n=(c=document.querySelector(".".concat(o))).querySelector(".info-value"),o=c.querySelector(".info-label"),c=c.querySelector(".info-password"),n.classList.add("js--hidden"),o.classList.add("js--hidden"),c.classList.remove("js--hidden"))})}),localStorage.getItem("logged")&&"true"==localStorage.getItem("logged")&&(account=document.querySelector(".account")).classList.add("account--logged");var roomChecks=document.querySelectorAll(".custom-checkbox");roomChecks.forEach(function(e){e.addEventListener("click",function(){e.classList.toggle("custom-checkbox--active")})});var allNextButtons,allSlides,sliderContainers=document.querySelectorAll(".swiper-adt");sliderContainers.forEach(function(e,t){var n=e.querySelector(".swiper-pagination");e.classList.add("swiper-adt--".concat(t)),n.classList.add("swiper-pagination--".concat(t));new Swiper(".swiper-adt--".concat(t),{speed:400,spaceBetween:0,slidesPerView:1,effect:"cards",direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination--".concat(t),clickable:!0}})}),window.location.href.includes("prefs")&&(allNextButtons=document.querySelectorAll(".pref-slide__button"),allSlides=document.querySelectorAll(".pref-slide"),allNextButtons.forEach(function(e,t){e.addEventListener("click",function(){allSlides[t].classList.add("js--hidden"),allSlides[t+1].classList.remove("js--hidden")})}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRQcm9maWxlTmF2aWdhdGlvbi5qcyIsImJ1ZGdldFNsaWRlci5qcyIsImN1c3RvbVNlbGVjdC5qcyIsImVkaXRJbmZvLmpzIiwibG9nU3RhdHVzLmpzIiwicm9vbUNoZWNrYm94LmpzIiwic3dpcGVyLmpzIiwidGVzdExvZ2ljcy5qcyJdLCJuYW1lcyI6WyJhbGxOYXZMaW5rcyIsImJ1ZGdldElucHV0IiwiY3VzdG9tU2VsZWN0Iiwic2VsZWN0Q29udGFpbmVyIiwic2VsZWN0T3B0aW9ucyIsInNhdmVkU3RyaW5nIiwicGFnZUxvY2F0aW9uIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiaW5jbHVkZXMiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImxpbmsiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXRFbGVtZW50QnlJZCIsIiQiLCJzbGlkZXIiLCJyYW5nZSIsIm1pbiIsIm1heCIsInN0ZXAiLCJ2YWx1ZSIsInNsaWRlIiwiZXZlbnQiLCJ1aSIsInZhbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWx1ZUlucHV0IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50Iiwic2V0VGltZW91dCIsInJlbW92ZSIsIm9uY2xpY2siLCJ0YXJnZXQiLCJjb250YWlucyIsIm9wdGlvbiIsImluZGV4IiwidG9nZ2xlIiwicmVwbGFjZSIsImNvbmNhdCIsInNsaWNlIiwiaW5uZXJfb3B0aW9uIiwiYWNjb3VudCIsImVkaXRJY29ucyIsImljb24iLCJ2YWx1ZVRleHRDb250YWluZXIiLCJ2YWx1ZUNvbnRhaW5lciIsInBhc3N3b3JkQ29udGFpbmVyIiwiSUQiLCJpZCIsImVkaXRWYWx1ZUNvbnRhaW5lciIsInRyaW0iLCJlZGl0SW5wdXQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImFwcGVuZENoaWxkIiwibGFiZWxDb250YWluZXIiLCJnZXRJdGVtIiwicm9vbUNoZWNrcyIsInJvb20iLCJhbGxOZXh0QnV0dG9ucyIsImFsbFNsaWRlcyIsInNsaWRlckNvbnRhaW5lcnMiLCJzd2lwZXIiLCJzd2lwZXJQYWdpbmF0aW9uIiwiU3dpcGVyIiwic3BlZWQiLCJzcGFjZUJldHdlZW4iLCJzbGlkZXNQZXJWaWV3IiwiZWZmZWN0IiwiZGlyZWN0aW9uIiwibG9vcCIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSIsImJ1dHRvbiJdLCJtYXBwaW5ncyI6ImFBQUEsSUFJQUEsWUNXQUMsWUNiQUMsYUFDQUMsZ0JBQ0FDLGNBQ0FDLFlGTEFDLGFBQUFDLE9BQUFDLFNBQUFDLEtBRUFILGFBQUFJLFNBQUEsYUFDQUMsYUFBQUMsUUFBQSxVQUFBLElBQ0FaLFlBQUFhLFNBQUFDLGlCQUFBLDhCQUNBQyxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFQLEtBQUFDLFNBQUEsb0JBQ0FKLGFBQUFJLFNBQUEsb0JBQ0FNLEVBQUFDLFVBQUFDLElBQUEsb0NBRUFGLEVBQUFQLEtBQUFDLFNBQUEseUJBQ0FKLGFBQUFJLFNBQUEseUJBQ0FNLEVBQUFDLFVBQUFDLElBQUEsb0NBRUFGLEVBQUFQLEtBQUFDLFNBQUEscUJBQ0FKLGFBQUFJLFNBQUEscUJBQ0FNLEVBQUFDLFVBQUFDLElBQUEsdUNDaEJBTCxTQUFBTSxlQUFBLHFCQUVBQyxFQUFBLFdBQ0FBLEVBQUEsZUFBQUMsT0FBQSxDQUNBQyxNQUFBLE1BQ0FDLElBQUEsRUFDQUMsSUFBQSxJQUNBQyxLQUFBLElBQ0FDLE1BQUEsSUFDQUMsTUFBQSxTQUFBQyxFQUFBQyxHQUNBVCxFQUFBLG9CQUFBVSxJQUFBRCxFQUFBSCxhQUtBekIsWUFBQVksU0FBQU0sZUFBQSxvQkFFQVksaUJBQUEsUUFBQSxXQUNBLElBQUFDLEVBQUEvQixZQUFBeUIsTUFDQU4sRUFBQSxlQUFBQyxPQUFBLFFBQUFXLE1DbkJBbkIsU0FBQU0sZUFBQSxrQkFFQWpCLGFBQUFXLFNBQUFNLGVBQUEsZ0JBQ0FoQixnQkFBQVUsU0FBQW9CLGNBQUEsaUNBQ0E3QixjQUFBRCxnQkFBQVcs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b0QsVUFBQXJELFNBQUFDLGlCQUFBLGVBQ0FtRCxlQUFBbEQsUUFBQSxTQUFBaUUsRUFBQXZDLEdBQ0F1QyxFQUFBakQsaUJBQUEsUUFBQSxXQUNBbUMsVUFBQXpCLEdBQUF4QixVQUFBQyxJQUFBLGNBQ0FnRCxVQUFBekIsRUFBQSxHQUFBeEIsVUFBQW1CLE9BQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhZ2VMb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG5cclxuaWYgKHBhZ2VMb2NhdGlvbi5pbmNsdWRlcygncHJvZmlsZScpKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9nZ2VkJywgdHJ1ZSk7XHJcbiAgICBjb25zdCBhbGxOYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9maWxlLW5hdmlnYXRpb25fX2xpbmsnKTtcclxuICAgIGFsbE5hdkxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgaWYgKGxpbmsuaHJlZi5pbmNsdWRlcygnYWNjb3VudC1wcm9maWxlJylcclxuICAgICAgICAgICAgJiYgcGFnZUxvY2F0aW9uLmluY2x1ZGVzKCdhY2NvdW50LXByb2ZpbGUnKSkge1xyXG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtbmF2aWdhdGlvbl9fbGluay0tYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaW5rLmhyZWYuaW5jbHVkZXMoJ3N1YnNjcmlwdGlvbi1wcm9maWxlJylcclxuICAgICAgICAgICAgJiYgcGFnZUxvY2F0aW9uLmluY2x1ZGVzKCdzdWJzY3JpcHRpb24tcHJvZmlsZScpKSB7XHJcbiAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1uYXZpZ2F0aW9uX19saW5rLS1hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxpbmsuaHJlZi5pbmNsdWRlcygnc2V0dGluZ3MtcHJvZmlsZScpXHJcbiAgICAgICAgICAgICYmIHBhZ2VMb2NhdGlvbi5pbmNsdWRlcygnc2V0dGluZ3MtcHJvZmlsZScpKSB7XHJcbiAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1uYXZpZ2F0aW9uX19saW5rLS1hY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59IiwiaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyQnVkZ2V0SW5wdXQnKSkge1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIjdXNlckJ1ZGdldFwiKS5zbGlkZXIoe1xyXG4gICAgICAgICAgICByYW5nZTogXCJtaW5cIixcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBtYXg6IDIwMDAwMCxcclxuICAgICAgICAgICAgc3RlcDogMTAwMCxcclxuICAgICAgICAgICAgdmFsdWU6IDUwMDAwLFxyXG4gICAgICAgICAgICBzbGlkZTogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xyXG4gICAgICAgICAgICAgICAgJChcIiN1c2VyQnVkZ2V0SW5wdXRcIikudmFsKHVpLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgYnVkZ2V0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckJ1ZGdldElucHV0Jyk7XHJcblxyXG4gICAgYnVkZ2V0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWVJbnB1dCA9IGJ1ZGdldElucHV0LnZhbHVlO1xyXG4gICAgICAgICQoXCIjdXNlckJ1ZGdldFwiKS5zbGlkZXIoXCJ2YWx1ZVwiLCB2YWx1ZUlucHV0KTtcclxuICAgIH0pXHJcbn0iLCJpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbVNlbGVjdCcpKSB7XHJcblxyXG4gICAgY29uc3QgY3VzdG9tU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbVNlbGVjdCcpO1xyXG4gICAgY29uc3Qgc2VsZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZWYtc2xpZGVfX3NlbGVjdC1jb250YWluZXInKTtcclxuICAgIGNvbnN0IHNlbGVjdE9wdGlvbnMgPSBzZWxlY3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnByZWYtc2xpZGVfX29wdGlvbicpO1xyXG4gICAgbGV0IHNhdmVkU3RyaW5nID0gY3VzdG9tU2VsZWN0LnRleHRDb250ZW50O1xyXG5cclxuICAgIGN1c3RvbVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfSlcclxuXHJcbiAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgIT0gc2VsZWN0Q29udGFpbmVyICYmICFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcmVmLXNsaWRlX19vcHRpb24nKSAmJiAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJlZi1zbGlkZV9fc2VsZWN0JykpIHtcclxuICAgICAgICAgICAgc2VsZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJqcy0taGlkZGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHNlbGVjdE9wdGlvbnMuZm9yRWFjaCgob3B0aW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9IDApIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdE9wdGlvbnNbMF0uY2xhc3NMaXN0LnJlbW92ZSgncHJlZi1zbGlkZV9fb3B0aW9uLS1hY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ3ByZWYtc2xpZGVfX29wdGlvbi0tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPSBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQucmVwbGFjZSgn0JLRgdC1INGA0LDQudC+0L3RiycsICcnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPSBgJHtvcHRpb24udGV4dENvbnRlbnQuc2xpY2UoMCwgNSl9YFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QudGV4dENvbnRlbnQgPSBgJHtjdXN0b21TZWxlY3QudGV4dENvbnRlbnR9LCAke29wdGlvbi50ZXh0Q29udGVudC5zbGljZSgwLCA1KX1gXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RPcHRpb25zLmZvckVhY2goKGlubmVyX29wdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlubmVyX29wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdwcmVmLXNsaWRlX19vcHRpb24tLWFjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5jbGFzc0xpc3QuYWRkKCdwcmVmLXNsaWRlX19vcHRpb24tLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0LnRleHRDb250ZW50ID0gJ9CS0YHQtSDRgNCw0LnQvtC90YsnO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59IiwiY29uc3QgZWRpdEljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYW5nZS1pY29uJyk7XHJcblxyXG5lZGl0SWNvbnMuZm9yRWFjaChpY29uID0+IHtcclxuICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgSUQgPSBpY29uLmlkO1xyXG5cclxuICAgICAgICBpZiAoSUQgIT09ICdjaGFuZ2VQYXNzd29yZCcpIHtcclxuICAgICAgICAgICAgY29uc3QgZWRpdFZhbHVlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SUR9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlVGV4dENvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVUZXh0Q29udGFpbmVyLnRleHRDb250ZW50LnRyaW0oKTtcclxuICAgICAgICAgICAgY29uc3QgZWRpdElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YWx1ZVRleHRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgZWRpdElucHV0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGVkaXRJbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgICAgICAgICBlZGl0SW5wdXQuY2xhc3NMaXN0LmFkZCgnZWRpdElucHV0Jyk7XHJcbiAgICAgICAgICAgIGVkaXRWYWx1ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChlZGl0SW5wdXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVkaXRWYWx1ZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke0lEfWApO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZUNvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW5mby12YWx1ZScpO1xyXG4gICAgICAgICAgICBjb25zdCBsYWJlbENvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW5mby1sYWJlbCcpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXNzd29yZENvbnRhaW5lciA9IGVkaXRWYWx1ZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuaW5mby1wYXNzd29yZCcpXHJcbiAgICAgICAgICAgIHZhbHVlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgbGFiZWxDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgICAgICBwYXNzd29yZENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSkiLCJpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZCcpKSB7XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZCcpID09ICd0cnVlJykge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3VudCcpO1xyXG4gICAgICAgIGFjY291bnQuY2xhc3NMaXN0LmFkZCgnYWNjb3VudC0tbG9nZ2VkJyk7XHJcbiAgICB9XHJcbn0iLCJcclxuY29uc3Qgcm9vbUNoZWNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b20tY2hlY2tib3gnKTtcclxuXHJcbnJvb21DaGVja3MuZm9yRWFjaChyb29tID0+IHtcclxuICAgIHJvb20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgcm9vbS5jbGFzc0xpc3QudG9nZ2xlKCdjdXN0b20tY2hlY2tib3gtLWFjdGl2ZScpXHJcbiAgICB9KVxyXG59KVxyXG4iLCIvLyBTd2lwZXIgU2VjdGlvblxyXG5cclxuXHJcbmNvbnN0IHNsaWRlckNvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLWFkdCcpO1xyXG5cclxuc2xpZGVyQ29udGFpbmVycy5mb3JFYWNoKChzd2lwZXIsIGluZGV4KSA9PiB7XHJcbiAgICBjb25zdCBzd2lwZXJQYWdpbmF0aW9uID0gc3dpcGVyLnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItcGFnaW5hdGlvbicpO1xyXG4gICAgc3dpcGVyLmNsYXNzTGlzdC5hZGQoYHN3aXBlci1hZHQtLSR7aW5kZXh9YCk7XHJcbiAgICBzd2lwZXJQYWdpbmF0aW9uLmNsYXNzTGlzdC5hZGQoYHN3aXBlci1wYWdpbmF0aW9uLS0ke2luZGV4fWApO1xyXG4gICAgY29uc3QgYWR0U3dpcGVyID0gbmV3IFN3aXBlcihgLnN3aXBlci1hZHQtLSR7aW5kZXh9YCwge1xyXG4gICAgICAgIHNwZWVkOiA0MDAsXHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgZWZmZWN0OiAnY2FyZHMnLFxyXG4gICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICBlbDogYC5zd2lwZXItcGFnaW5hdGlvbi0tJHtpbmRleH1gLFxyXG4gICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgIH0pXHJcbn0pOyIsImlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygncHJlZnMnKSkge1xyXG4gICAgY29uc3QgYWxsTmV4dEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJlZi1zbGlkZV9fYnV0dG9uJyk7XHJcbiAgICBjb25zdCBhbGxTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJlZi1zbGlkZScpO1xyXG4gICAgYWxsTmV4dEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgYWxsU2xpZGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGFsbFNsaWRlc1tpbmRleCArIDFdLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSJdfQ==
