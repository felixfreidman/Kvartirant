"use strict";var allNavLinks,budgetInput,customSelect,selectContainer,selectOptions,savedString,pageLocation=window.location.href;function activateForms(){var e,t,n,c,o,i;document.querySelector(".signin-form")&&(e=document.querySelector(".signin-form"),t=document.querySelector(".signup-form"),n=e.querySelector(".caption"),c=t.querySelector(".caption"),o=document.getElementById("signin-special"),i=document.getElementById("signup-special"),n.addEventListener("click",function(){e.classList.add("js--hidden"),t.classList.remove("js--hidden")}),c.addEventListener("click",function(){e.classList.remove("js--hidden"),t.classList.add("js--hidden")}),o.addEventListener("click",function(){localStorage.setItem("logged",!0)}),i.addEventListener("click",function(){localStorage.setItem("logged",!0)}))}pageLocation.includes("profile")&&(allNavLinks=document.querySelectorAll(".profile-navigation__link")).forEach(function(e){e.href.includes("account-profile")&&pageLocation.includes("account-profile")&&e.classList.add("profile-navigation__link--active"),e.href.includes("subscription-profile")&&pageLocation.includes("subscription-profile")&&e.classList.add("profile-navigation__link--active"),e.href.includes("settings-profile")&&pageLocation.includes("settings-profile")&&e.classList.add("profile-navigation__link--active")}),setTimeout(activateForms,300),document.getElementById("userBudgetInput")&&($(function(){$("#userBudget").slider({range:"min",min:0,max:2e5,step:1e3,value:5e4,slide:function(e,t){$("#userBudgetInput").val(t.value)}})}),(budgetInput=document.getElementById("userBudgetInput")).addEventListener("input",function(){var e=budgetInput.value;$("#userBudget").slider("value",e)})),document.getElementById("customSelect")&&(customSelect=document.getElementById("customSelect"),selectContainer=document.querySelector(".pref-slide__select-container"),selectOptions=selectContainer.querySelectorAll(".pref-slide__option"),savedString=customSelect.textContent,customSelect.addEventListener("click",function(){setTimeout(function(){selectContainer.classList.remove("js--hidden")},100)}),window.onclick=function(e){e.target==selectContainer||e.target.classList.contains("pref-slide__option")||e.target.classList.contains("pref-slide__select")||selectContainer.classList.add("js--hidden")},selectOptions.forEach(function(e,t){e.addEventListener("click",function(){0!=t?(selectOptions[0].classList.remove("pref-slide__option--active"),e.classList.toggle("pref-slide__option--active"),customSelect.textContent=customSelect.textContent.replace("Все районы",""),""==customSelect.textContent?customSelect.textContent="".concat(e.textContent.slice(0,5)):customSelect.textContent="".concat(customSelect.textContent,", ").concat(e.textContent.slice(0,5))):(selectOptions.forEach(function(e){e.classList.remove("pref-slide__option--active")}),e.classList.add("pref-slide__option--active"),customSelect.textContent="Все районы")})}));var _account2,opener,editIcons=document.querySelectorAll(".change-icon");function activateLogout(){var e,t,n;document.getElementById("menu-header")&&(e=document.getElementById("menu-header").querySelector("a"),t=document.getElementById("profileMenu"),(n=document.createElement("a")).href=e.href,n.textContent="Выйти",t.append(n),n.addEventListener("click",function(){localStorage.getItem("logged")&&(localStorage.setItem("logged",!1),document.querySelector(".account").classList.remove("account--logged"))}))}editIcons.forEach(function(i){i.addEventListener("click",function(){var e,t,n,c,o=i.id;"changePassword"!==o?(t=(e=(n=document.querySelector(".".concat(o))).querySelector("span")).textContent.trim(),c=document.createElement("input"),e.classList.add("js--hidden"),i.classList.add("js--hidden"),c.value=t,c.type="text",c.classList.add("editInput"),n.appendChild(c)):(t=(e=document.querySelector(".".concat(o))).querySelector(".info-value"),n=e.querySelector(".info-label"),c=e.querySelector(".info-password"),t.classList.add("js--hidden"),n.classList.add("js--hidden"),c.classList.remove("js--hidden"))})}),setTimeout(activateLogout,300),localStorage.getItem("logged")&&(console.log(localStorage.getItem("logged")),"true"==localStorage.getItem("logged"))&&(_account2=document.querySelector(".account")).classList.add("account--logged"),document.getElementById("menuOpener")&&((opener=document.getElementById("menuOpener")).addEventListener("click",function(){opener.classList.add("opener--active")}),window.onclick=function(e){e.target==opener||e.target.classList.contains("checkSpan")||opener.classList.remove("opener--active")});var allNextButtons,allSlides,account=document.querySelector(".account"),roomChecks=(pageLocation.includes("login")&&"true"==localStorage.getItem("logged")&&(window.location.href="http://localhost/kvartirant/wp/profile/"),document.querySelectorAll(".custom-checkbox")),sliderContainers=(roomChecks.forEach(function(e){e.addEventListener("click",function(){e.classList.toggle("custom-checkbox--active")})}),document.querySelectorAll(".swiper-adt"));sliderContainers.forEach(function(e,t){var n=e.querySelector(".swiper-pagination");e.classList.add("swiper-adt--".concat(t)),n.classList.add("swiper-pagination--".concat(t)),new Swiper(".swiper-adt--".concat(t),{speed:400,spaceBetween:0,slidesPerView:1,effect:"cards",direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination--".concat(t),clickable:!0}})}),window.location.href.includes("prefs")&&(allNextButtons=document.querySelectorAll(".pref-slide__button"),allSlides=document.querySelectorAll(".pref-slide"),allNextButtons.forEach(function(e,t){e.addEventListener("click",function(){allSlides[t].classList.add("js--hidden"),allSlides[t+1].classList.remove("js--hidden")})}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnRQcm9maWxlTmF2aWdhdGlvbi5qcyIsImJ1ZGdldFNsaWRlci5qcyIsImN1c3RvbVNlbGVjdC5qcyIsImF1dGguanMiLCJlZGl0SW5mby5qcyIsImxvZ1N0YXR1cy5qcyIsInByb2ZpbGVNZW51T3BlbmVyLmpzIiwibG9nb3V0LmpzIiwicmVkaXJlY3RMb2dnZWRVc2VyLmpzIiwidGVzdExvZ2ljcy5qcyIsInJvb21DaGVja2JveC5qcyIsInN3aXBlci5qcyJdLCJuYW1lcyI6WyJhbGxOYXZMaW5rcyIsImJ1ZGdldElucHV0IiwiY3VzdG9tU2VsZWN0Iiwic2VsZWN0Q29udGFpbmVyIiwic2VsZWN0T3B0aW9ucyIsInNhdmVkU3RyaW5nIiwicGFnZUxvY2F0aW9uIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiYWN0aXZhdGVGb3JtcyIsInNpZ25pbkZvcm0iLCJzaWdudXBGb3JtIiwiY2FwdGlvbkluIiwiY2FwdGlvblVwIiwiZm9ybVNpZ25JblJlYWwiLCJmb3JtU2lnblVwUmVhbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJpbmNsdWRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwibGluayIsInNldFRpbWVvdXQiLCIkIiwic2xpZGVyIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJzdGVwIiwidmFsdWUiLCJzbGlkZSIsImV2ZW50IiwidWkiLCJ2YWwiLCJ2YWx1ZUlucHV0IiwidGV4dENvbnRlbnQiLCJvbmNsaWNrIiwidGFyZ2V0IiwiY29udGFpbnMiLCJvcHRpb24iLCJpbmRleCIsInRvZ2dsZSIsInJlcGxhY2UiLCJjb25jYXQiLCJzbGljZSIsImlubmVyX29wdGlvbiIsImFjY291bnQiLCJvcGVuZXIiLCJlZGl0SWNvbnMiLCJhY3RpdmF0ZUxvZ291dCIsImxvZ291dExpbmsiLCJwcm9maWxlTmF2aWdhdGlvbiIsImxvZ291dExpbmtJbk5hdiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJnZXRJdGVtIiwiaWNvbiIsImVkaXRWYWx1ZUNvbnRhaW5lciIsInZhbHVlQ29udGFpbmVyIiwibGFiZWxDb250YWluZXIiLCJwYXNzd29yZENvbnRhaW5lciIsIklEIiwiaWQiLCJ2YWx1ZVRleHRDb250YWluZXIiLCJ0cmltIiwiZWRpdElucHV0IiwidHlwZSIsImFwcGVuZENoaWxkIiwiY29uc29sZSIsImxvZyIsImFsbE5leHRCdXR0b25zIiwiYWxsU2xpZGVzIiwicm9vbUNoZWNrcyIsInNsaWRlckNvbnRhaW5lcnMiLCJyb29tIiwic3dpcGVyIiwic3dpcGVyUGFnaW5hdGlvbiIsIlN3aXBlciIsInNwZWVkIiwic3BhY2VCZXR3ZWVuIiwic2xpZGVzUGVyVmlldyIsImVmZmVjdCIsImRpcmVjdGlvbiIsImxvb3AiLCJwYWdpbmF0aW9uIiwiZWwiLCJjbGlja2FibGUiLCJidXR0b24iXSwibWFwcGluZ3MiOiJhQUFBLElBR0FBLFlDWUFDLFlDYkFDLGFBQ0FDLGdCQUNBQyxjQUNBQyxZRkxBQyxhQUFBQyxPQUFBQyxTQUFBQyxLR0FBLFNBQUFDLGdCQUNBLElBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBTkFDLFNBQUFDLGNBQUEsY0FBQSxJQUNBUCxFQUFBTSxTQUFBQyxjQUFBLGNBQUEsRUFDQU4sRUFBQUssU0FBQUMsY0FBQSxjQUFBLEVBQ0FMLEVBQUFGLEVBQUFPLGNBQUEsVUFBQSxFQUNBSixFQUFBRixFQUFBTSxjQUFBLFVBQUEsRUFDQUgsRUFBQUUsU0FBQUUsZUFBQSxnQkFBQSxFQUNBSCxFQUFBQyxTQUFBRSxlQUFBLGdCQUFBLEVBQ0FOLEVBQUFPLGlCQUFBLFFBQUEsV0FDQVQsRUFBQVUsVUFBQUMsSUFBQSxZQUFBLEVBQ0FWLEVBQUFTLFVBQUFFLE9BQUEsWUFBQSxDQUNBLENBQUEsRUFDQVQsRUFBQU0saUJBQUEsUUFB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LGVBQUE2QixPQUFBSCxDQUFBLENBQUEsRUFDQW9DLEVBQUEvRCxVQUFBQyxJQUFBLHNCQUFBNkIsT0FBQUgsQ0FBQSxDQUFBLEVBQ0EsSUFBQXFDLE9BQUEsZ0JBQUFsQyxPQUFBSCxDQUFBLEVBQUEsQ0FDQXNDLE1BQUEsSUFDQUMsYUFBQSxFQUNBQyxjQUFBLEVBQ0FDLE9BQUEsUUFDQUMsVUFBQSxhQUNBQyxLQUFBLENBQUEsRUFDQUMsV0FBQSxDQUNBQyxHQUFBLHVCQUFBMUMsT0FBQUgsQ0FBQSxFQUNBOEMsVUFBQSxDQUFBLENBQ0EsQ0FDQSxDQUFBLENBQ0EsQ0FBQSxFRnJCQXZGLE9BQUFDLFNBQUFDLEtBQUFpQixTQUFBLE9BQUEsSUFDQW9ELGVBQUE3RCxTQUFBVSxpQkFBQSxxQkFBQSxFQUNBb0QsVUFBQTlELFNBQUFVLGlCQUFBLGFBQUEsRUFDQW1ELGVBQUFsRCxRQUFBLFNBQUFtRSxFQUFBL0MsR0FDQStDLEVBQUEzRSxpQkFBQSxRQUFBLFdBQ0EyRCxVQUFBL0IsR0FBQTNCLFVBQUFDLElBQUEsWUFBQSxFQUNBeUQsVUFBQS9CLEVBQUEsR0FBQTNCLFVBQUFFLE9BQUEsWUFBQSxDQUNBLENBQUEsQ0FDQSxDQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYWdlTG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuXHJcbmlmIChwYWdlTG9jYXRpb24uaW5jbHVkZXMoJ3Byb2ZpbGUnKSkge1xyXG4gICAgY29uc3QgYWxsTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZmlsZS1uYXZpZ2F0aW9uX19saW5rJyk7XHJcbiAgICBhbGxOYXZMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xyXG4gICAgICAgIGlmIChsaW5rLmhyZWYuaW5jbHVkZXMoJ2FjY291bnQtcHJvZmlsZScpXHJcbiAgICAgICAgICAgICYmIHBhZ2VMb2NhdGlvbi5pbmNsdWRlcygnYWNjb3VudC1wcm9maWxlJykpIHtcclxuICAgICAgICAgICAgbGluay5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLW5hdmlnYXRpb25fX2xpbmstLWFjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGluay5ocmVmLmluY2x1ZGVzKCdzdWJzY3JpcHRpb24tcHJvZmlsZScpXHJcbiAgICAgICAgICAgICYmIHBhZ2VMb2NhdGlvbi5pbmNsdWRlcygnc3Vic2NyaXB0aW9uLXByb2ZpbGUnKSkge1xyXG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtbmF2aWdhdGlvbl9fbGluay0tYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaW5rLmhyZWYuaW5jbHVkZXMoJ3NldHRpbmdzLXByb2ZpbGUnKVxyXG4gICAgICAgICAgICAmJiBwYWdlTG9jYXRpb24uaW5jbHVkZXMoJ3NldHRpbmdzLXByb2ZpbGUnKSkge1xyXG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtbmF2aWdhdGlvbl9fbGluay0tYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSIsImlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckJ1ZGdldElucHV0JykpIHtcclxuXHJcbiAgICAkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI3VzZXJCdWRnZXRcIikuc2xpZGVyKHtcclxuICAgICAgICAgICAgcmFuZ2U6IFwibWluXCIsXHJcbiAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgbWF4OiAyMDAwMDAsXHJcbiAgICAgICAgICAgIHN0ZXA6IDEwMDAsXHJcbiAgICAgICAgICAgIHZhbHVlOiA1MDAwMCxcclxuICAgICAgICAgICAgc2xpZGU6IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjdXNlckJ1ZGdldElucHV0XCIpLnZhbCh1aS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGJ1ZGdldElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJCdWRnZXRJbnB1dCcpO1xyXG5cclxuICAgIGJ1ZGdldElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlSW5wdXQgPSBidWRnZXRJbnB1dC52YWx1ZTtcclxuICAgICAgICAkKFwiI3VzZXJCdWRnZXRcIikuc2xpZGVyKFwidmFsdWVcIiwgdmFsdWVJbnB1dCk7XHJcbiAgICB9KVxyXG59IiwiaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21TZWxlY3QnKSkge1xyXG5cclxuICAgIGNvbnN0IGN1c3RvbVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21TZWxlY3QnKTtcclxuICAgIGNvbnN0IHNlbGVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmVmLXNsaWRlX19zZWxlY3QtY29udGFpbmVyJyk7XHJcbiAgICBjb25zdCBzZWxlY3RPcHRpb25zID0gc2VsZWN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcmVmLXNsaWRlX19vcHRpb24nKTtcclxuICAgIGxldCBzYXZlZFN0cmluZyA9IGN1c3RvbVNlbGVjdC50ZXh0Q29udGVudDtcclxuXHJcbiAgICBjdXN0b21TZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH0pXHJcblxyXG4gICAgd2luZG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9IHNlbGVjdENvbnRhaW5lciAmJiAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJlZi1zbGlkZV9fb3B0aW9uJykgJiYgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3ByZWYtc2xpZGVfX3NlbGVjdCcpKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwianMtLWhpZGRlblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBzZWxlY3RPcHRpb25zLmZvckVhY2goKG9wdGlvbiwgaW5kZXgpID0+IHtcclxuICAgICAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RPcHRpb25zWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3ByZWYtc2xpZGVfX29wdGlvbi0tYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdwcmVmLXNsaWRlX19vcHRpb24tLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0LnRleHRDb250ZW50ID0gY3VzdG9tU2VsZWN0LnRleHRDb250ZW50LnJlcGxhY2UoJ9CS0YHQtSDRgNCw0LnQvtC90YsnLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VzdG9tU2VsZWN0LnRleHRDb250ZW50ID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0LnRleHRDb250ZW50ID0gYCR7b3B0aW9uLnRleHRDb250ZW50LnNsaWNlKDAsIDUpfWBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0LnRleHRDb250ZW50ID0gYCR7Y3VzdG9tU2VsZWN0LnRleHRDb250ZW50fSwgJHtvcHRpb24udGV4dENvbnRlbnQuc2xpY2UoMCwgNSl9YFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5mb3JFYWNoKChpbm5lcl9vcHRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpbm5lcl9vcHRpb24uY2xhc3NMaXN0LnJlbW92ZSgncHJlZi1zbGlkZV9fb3B0aW9uLS1hY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZCgncHJlZi1zbGlkZV9fb3B0aW9uLS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdC50ZXh0Q29udGVudCA9ICfQktGB0LUg0YDQsNC50L7QvdGLJztcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSIsImZ1bmN0aW9uIGFjdGl2YXRlRm9ybXMoKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZ25pbi1mb3JtJykpIHtcclxuICAgICAgICBjb25zdCBzaWduaW5Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZ25pbi1mb3JtJyk7XHJcbiAgICAgICAgY29uc3Qgc2lnbnVwRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWdudXAtZm9ybScpO1xyXG4gICAgICAgIGNvbnN0IGNhcHRpb25JbiA9IHNpZ25pbkZvcm0ucXVlcnlTZWxlY3RvcignLmNhcHRpb24nKTtcclxuICAgICAgICBjb25zdCBjYXB0aW9uVXAgPSBzaWdudXBGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5jYXB0aW9uJyk7XHJcbiAgICAgICAgY29uc3QgZm9ybVNpZ25JblJlYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnbmluLXNwZWNpYWwnKTtcclxuICAgICAgICBjb25zdCBmb3JtU2lnblVwUmVhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWdudXAtc3BlY2lhbCcpO1xyXG4gICAgICAgIGNhcHRpb25Jbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgc2lnbmluRm9ybS5jbGFzc0xpc3QuYWRkKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHNpZ251cEZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY2FwdGlvblVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBzaWduaW5Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgc2lnbnVwRm9ybS5jbGFzc0xpc3QuYWRkKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZm9ybVNpZ25JblJlYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dnZWQnLCB0cnVlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGZvcm1TaWduVXBSZWFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9nZ2VkJywgdHJ1ZSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5zZXRUaW1lb3V0KGFjdGl2YXRlRm9ybXMsIDMwMCkiLCJjb25zdCBlZGl0SWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhbmdlLWljb24nKTtcclxuXHJcbmVkaXRJY29ucy5mb3JFYWNoKGljb24gPT4ge1xyXG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCBJRCA9IGljb24uaWQ7XHJcblxyXG4gICAgICAgIGlmIChJRCAhPT0gJ2NoYW5nZVBhc3N3b3JkJykge1xyXG4gICAgICAgICAgICBjb25zdCBlZGl0VmFsdWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtJRH1gKTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWVUZXh0Q29udGFpbmVyID0gZWRpdFZhbHVlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZVRleHRDb250YWluZXIudGV4dENvbnRlbnQudHJpbSgpO1xyXG4gICAgICAgICAgICBjb25zdCBlZGl0SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhbHVlVGV4dENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGljb24uY2xhc3NMaXN0LmFkZCgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgICAgICBlZGl0SW5wdXQudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgZWRpdElucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgIGVkaXRJbnB1dC5jbGFzc0xpc3QuYWRkKCdlZGl0SW5wdXQnKTtcclxuICAgICAgICAgICAgZWRpdFZhbHVlQ29udGFpbmVyLmFwcGVuZENoaWxkKGVkaXRJbnB1dCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZWRpdFZhbHVlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7SUR9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQ29udGFpbmVyID0gZWRpdFZhbHVlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbmZvLXZhbHVlJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsQ29udGFpbmVyID0gZWRpdFZhbHVlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbmZvLWxhYmVsJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkQ29udGFpbmVyID0gZWRpdFZhbHVlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5pbmZvLXBhc3N3b3JkJylcclxuICAgICAgICAgICAgdmFsdWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnanMtLWhpZGRlbicpO1xyXG4gICAgICAgICAgICBsYWJlbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59KSIsImlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9nZ2VkJykpIHtcclxuICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dnZWQnKSk7XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2dlZCcpID09ICd0cnVlJykge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3VudCcpO1xyXG4gICAgICAgIGFjY291bnQuY2xhc3NMaXN0LmFkZCgnYWNjb3VudC0tbG9nZ2VkJyk7XHJcbiAgICB9XHJcbn0iLCJpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVPcGVuZXInKSkge1xyXG4gICAgY29uc3Qgb3BlbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVPcGVuZXInKTtcclxuICAgIG9wZW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBvcGVuZXIuY2xhc3NMaXN0LmFkZCgnb3BlbmVyLS1hY3RpdmUnKVxyXG4gICAgfSlcclxuICAgIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPSBvcGVuZXIgJiYgIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NoZWNrU3BhbicpKSB7XHJcbiAgICAgICAgICAgIG9wZW5lci5jbGFzc0xpc3QucmVtb3ZlKFwib3BlbmVyLS1hY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsImZ1bmN0aW9uIGFjdGl2YXRlTG9nb3V0KCkge1xyXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LWhlYWRlcicpKSB7XHJcbiAgICAgICAgY29uc3QgbWVudUhlYWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudS1oZWFkZXInKTtcclxuICAgICAgICBjb25zdCBsb2dvdXRMaW5rID0gbWVudUhlYWFkZXIucXVlcnlTZWxlY3RvcignYScpO1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVOYXZpZ2F0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGVNZW51Jyk7XHJcbiAgICAgICAgY29uc3QgbG9nb3V0TGlua0luTmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGxvZ291dExpbmtJbk5hdi5ocmVmID0gbG9nb3V0TGluay5ocmVmO1xyXG4gICAgICAgIGxvZ291dExpbmtJbk5hdi50ZXh0Q29udGVudCA9ICfQktGL0LnRgtC4J1xyXG4gICAgICAgIHByb2ZpbGVOYXZpZ2F0aW9uLmFwcGVuZChsb2dvdXRMaW5rSW5OYXYpXHJcblxyXG4gICAgICAgIGxvZ291dExpbmtJbk5hdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dnZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvZ2dlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3VudCcpO1xyXG4gICAgICAgICAgICAgICAgYWNjb3VudC5jbGFzc0xpc3QucmVtb3ZlKCdhY2NvdW50LS1sb2dnZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbnNldFRpbWVvdXQoYWN0aXZhdGVMb2dvdXQsIDMwMCkiLCJjb25zdCBhY2NvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjY291bnQnKTtcclxuaWYgKHBhZ2VMb2NhdGlvbi5pbmNsdWRlcygnbG9naW4nKSkge1xyXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dnZWQnKSA9PSAndHJ1ZScpIHtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwOi8vbG9jYWxob3N0L2t2YXJ0aXJhbnQvd3AvcHJvZmlsZS8nO1xyXG4gICAgfVxyXG59XHJcbiIsImlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygncHJlZnMnKSkge1xyXG4gICAgY29uc3QgYWxsTmV4dEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJlZi1zbGlkZV9fYnV0dG9uJyk7XHJcbiAgICBjb25zdCBhbGxTbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJlZi1zbGlkZScpO1xyXG4gICAgYWxsTmV4dEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgYWxsU2xpZGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdqcy0taGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGFsbFNsaWRlc1tpbmRleCArIDFdLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLS1oaWRkZW4nKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSIsIlxyXG5jb25zdCByb29tQ2hlY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1c3RvbS1jaGVja2JveCcpO1xyXG5cclxucm9vbUNoZWNrcy5mb3JFYWNoKHJvb20gPT4ge1xyXG4gICAgcm9vbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICByb29tLmNsYXNzTGlzdC50b2dnbGUoJ2N1c3RvbS1jaGVja2JveC0tYWN0aXZlJylcclxuICAgIH0pXHJcbn0pXHJcbiIsIi8vIFN3aXBlciBTZWN0aW9uXHJcblxyXG5cclxuY29uc3Qgc2xpZGVyQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItYWR0Jyk7XHJcblxyXG5zbGlkZXJDb250YWluZXJzLmZvckVhY2goKHN3aXBlciwgaW5kZXgpID0+IHtcclxuICAgIGNvbnN0IHN3aXBlclBhZ2luYXRpb24gPSBzd2lwZXIucXVlcnlTZWxlY3RvcignLnN3aXBlci1wYWdpbmF0aW9uJyk7XHJcbiAgICBzd2lwZXIuY2xhc3NMaXN0LmFkZChgc3dpcGVyLWFkdC0tJHtpbmRleH1gKTtcclxuICAgIHN3aXBlclBhZ2luYXRpb24uY2xhc3NMaXN0LmFkZChgc3dpcGVyLXBhZ2luYXRpb24tLSR7aW5kZXh9YCk7XHJcbiAgICBjb25zdCBhZHRTd2lwZXIgPSBuZXcgU3dpcGVyKGAuc3dpcGVyLWFkdC0tJHtpbmRleH1gLCB7XHJcbiAgICAgICAgc3BlZWQ6IDQwMCxcclxuICAgICAgICBzcGFjZUJldHdlZW46IDAsXHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICBlZmZlY3Q6ICdjYXJkcycsXHJcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICAgIGVsOiBgLnN3aXBlci1wYWdpbmF0aW9uLS0ke2luZGV4fWAsXHJcbiAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxufSk7Il19
