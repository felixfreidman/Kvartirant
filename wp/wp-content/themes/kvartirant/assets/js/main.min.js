"use strict";var userArea,customSelect,selectContainer,selectOptions,savedString,userBudget,value,budgetInput,getRoomsAmount,getRepairPrefs,getColiverPrefs,submitForm,roomsAmount,budget,areaSearch,repairPrefs,coliverPrefs,prefsObject,checkboxesRepair=document.querySelectorAll(".repairCheckbox"),resetRepair=document.querySelector(".resetCheckboxRepair"),checkboxesColiver=document.querySelectorAll(".coliverCheckbox"),resetColiver=document.querySelector(".resetCheckboxColiver"),checkboxesRoom=document.querySelectorAll(".roomCheckbox"),resetRoom=document.querySelector(".resetCheckboxRoom");function resetCheckboxRepair(){var t=0;checkboxesRepair.forEach(function(e){e.classList.contains("custom-checkbox--active")&&t++,1<t&&resetRepair.classList.remove("custom-checkbox--active"),0==t&&resetRepair.classList.add("custom-checkbox--active")})}function resetCheckboxColiver(){var t=0;checkboxesColiver.forEach(function(e){e.classList.contains("custom-checkbox--active")&&t++,1<t&&resetColiver.classList.remove("custom-checkbox--active"),0==t&&resetColiver.classList.add("custom-checkbox--active")})}function resetCheckboxRoom(){var t=0;checkboxesRoom.forEach(function(e){e.classList.contains("custom-checkbox--active")&&t++}),0==t&&resetRoom.classList.add("custom-checkbox--active")}checkboxesRepair.forEach(function(e){e.addEventListener("click",function(){e.classList.contains("resetCheckboxRepair")?e.classList.contains("resetCheckboxRepair")&&checkboxesRepair.forEach(function(e){e.classList.remove("custom-checkbox--active"),resetRepair.classList.add("custom-checkbox--active")}):(e.classList.toggle("custom-checkbox--active"),setTimeout(resetCheckboxRepair,100))})}),checkboxesColiver.forEach(function(e){e.addEventListener("click",function(){e.classList.contains("resetCheckboxColiver")?e.classList.contains("resetCheckboxColiver")&&checkboxesColiver.forEach(function(e){e.classList.remove("custom-checkbox--active"),resetColiver.classList.add("custom-checkbox--active")}):(e.classList.toggle("custom-checkbox--active"),setTimeout(resetCheckboxColiver,100))})}),checkboxesRoom.forEach(function(e){e.addEventListener("click",function(){e.classList.toggle("custom-checkbox--active"),setTimeout(resetCheckboxRoom,100)})}),window.location.href.includes("prefs")&&setTimeout(function(){var t,c,o;""!==document.querySelector(".userMeta").textContent&&(t=document.querySelector(".userRoom"),checkboxesRoom.forEach(function(e){e.classList.remove("custom-checkbox--active"),(t.textContent.includes("1")&&e.textContent.includes("1")||t.textContent.includes("2")&&e.textContent.includes("2")||t.textContent.includes("3")&&e.textContent.includes("3")||t.textContent.includes("4+")&&e.textContent.includes("4+")||t.textContent.includes("4")&&e.textContent.includes("4")&&!t.textContent.includes("+")&&!e.textContent.includes("+"))&&e.classList.add("custom-checkbox--active")}),c=document.querySelector(".userRepair"),checkboxesRepair.forEach(function(e){e.classList.remove("custom-checkbox--active"),(c.textContent.includes("бабушкин")&&e.textContent.includes("бабушкин")||c.textContent.includes("Косметический")&&e.textContent.includes("Косметический")||c.textContent.includes("Дизайнерский")&&e.textContent.includes("Дизайнерский")||c.textContent.includes("Не важно")&&e.textContent.includes("важно"))&&e.classList.add("custom-checkbox--active")}),o=document.querySelector(".userColiver"),checkboxesColiver.forEach(function(e){e.classList.remove("custom-checkbox--active"),(o.textContent.includes("Собака")&&e.textContent.includes("Собака")||o.textContent.includes("Кот")&&e.textContent.includes("Кот")||o.textContent.includes("Другие")&&e.textContent.includes("Другие")||o.textContent.includes("Не важно")&&e.textContent.includes("важно"))&&e.classList.add("custom-checkbox--active")}))},300),document.getElementById("customSelect")&&(userArea=document.querySelector(".userArea"),customSelect=document.getElementById("customSelect"),selectContainer=document.querySelector(".pref-slide__select-container"),selectOptions=selectContainer.querySelectorAll(".pref-slide__option"),savedString=customSelect.textContent,customSelect.addEventListener("click",function(){setTimeout(function(){selectContainer.classList.remove("js--hidden")},100)}),window.onclick=function(e){e.target==selectContainer||e.target.classList.contains("pref-slide__option")||e.target.classList.contains("pref-slide__select")||selectContainer.classList.add("js--hidden")},selectOptions.forEach(function(e,t){e.addEventListener("click",function(){0!=t?(selectOptions[0].classList.remove("pref-slide__option--active"),e.classList.contains("pref-slide__option--active")?(e.classList.remove("pref-slide__option--active"),customSelect.textContent.includes(", ".concat(e.textContent.slice(0,5)))?customSelect.textContent=customSelect.textContent.replace(", ".concat(e.textContent.slice(0,5)),""):customSelect.textContent=customSelect.textContent.replace("".concat(e.textContent.slice(0,5)),""),""==customSelect.textContent.trim()&&(customSelect.textContent="Все районы",selectOptions[0].classList.add("pref-slide__option--active"))):e.classList.contains("pref-slide__option--active")?(e.classList.add("pref-slide__option--active"),customSelect.textContent=customSelect.textContent.replace("Все районы",""),""==customSelect.textContent?customSelect.textContent="".concat(e.textContent.slice(0,5)):customSelect.textContent="".concat(customSelect.textContent,", ").concat(e.textContent.slice(0,5))):(e.classList.add("pref-slide__option--active"),customSelect.textContent=customSelect.textContent.replace("Все районы",""),customSelect.textContent="".concat(customSelect.textContent," ").concat(e.textContent.slice(0,5)))):(selectOptions.forEach(function(e){e.classList.remove("pref-slide__option--active")}),e.classList.add("pref-slide__option--active"),customSelect.textContent="Все районы")})}),""!==userArea.textContent)&&(customSelect.textContent=userArea.textContent,selectOptions.forEach(function(e){(userArea.textContent.includes("Лен")&&e.textContent.includes("Лен")||userArea.textContent.includes("Окт")&&e.textContent.includes("Окт")||userArea.textContent.includes("Свер")&&e.textContent.includes("Свер")||userArea.textContent.includes("Право")&&e.textContent.includes("Право")||userArea.textContent.includes("Все")&&e.textContent.includes("Все"))&&(e.classList.add("pref-slide__option--active"),selectOptions[0].classList.remove("pref-slide__option--active"))})),document.getElementById("userBudgetInput")&&(userBudget=document.querySelector(".userBudget"),value=5e4,""!==userBudget.textContent&&(value=parseInt(userBudget.textContent),$("#userBudgetInput").val(value)),$(function(){$("#userBudget").slider({range:"min",min:0,max:2e5,step:1e3,value:value,slide:function(e,t){$("#userBudgetInput").val(t.value)}})}),(budgetInput=document.getElementById("userBudgetInput")).addEventListener("input",function(){var e=budgetInput.value;$("#userBudget").slider("value",e)})),document.querySelector(".submitForm")&&(getRoomsAmount=function(){document.querySelectorAll(".roomCheckbox").forEach(function(e){e.classList.contains("custom-checkbox--active")&&(e=e.textContent,roomsAmount=roomsAmount+e+", ")}),roomsAmount=(roomsAmount=roomsAmount.trim()).slice(0,roomsAmount.length-1)},getRepairPrefs=function(){document.querySelectorAll(".repairCheckbox").forEach(function(e){e.classList.contains("custom-checkbox--active")&&(e=e.getAttribute("data-value"),repairPrefs=repairPrefs+e+", ")}),repairPrefs=(repairPrefs=repairPrefs.trim()).slice(0,repairPrefs.length-1)},getColiverPrefs=function(){document.querySelectorAll(".coliverCheckbox").forEach(function(e){e.classList.contains("custom-checkbox--active")&&(e=e.getAttribute("data-value"),coliverPrefs=coliverPrefs+e+", ")}),coliverPrefs=(coliverPrefs=coliverPrefs.trim()).slice(0,coliverPrefs.length-1)},submitForm=document.querySelector(".submitForm"),prefsObject={roomsAmount:coliverPrefs=repairPrefs=areaSearch=budget=roomsAmount="",budget:"",areaSearch:"",repairPrefs:"",coliverPrefs:""},submitForm.addEventListener("click",function(){submitForm.classList.add("js--inactive"),getRoomsAmount(),getRepairPrefs(),getColiverPrefs(),budget=document.getElementById("userBudgetInput").value,areaSearch=document.getElementById("customSelect").textContent;var e=document.getElementById("roomsAmount"),t=document.getElementById("budgetAmount"),c=document.getElementById("areaSearch"),o=document.getElementById("repairPrefs"),n=document.getElementById("coliverPrefs");e.value=roomsAmount,t.value=budget,c.value=areaSearch,o.value=repairPrefs,n.value=coliverPrefs,document.getElementById("prefsForm").submit()}));var sliderContainers=document.querySelectorAll(".swiper-adt"),allNextButtons=(sliderContainers.forEach(function(e,t){var c=e.querySelector(".swiper-pagination");e.classList.add("swiper-adt--".concat(t)),c.classList.add("swiper-pagination--".concat(t)),new Swiper(".swiper-adt--".concat(t),{speed:400,spaceBetween:0,slidesPerView:1,effect:"cards",direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination--".concat(t),clickable:!0}})}),document.querySelectorAll(".pref-slide__button")),allSlides=document.querySelectorAll(".pref-slide");function activateForms(){var e,t,c,o;document.querySelector(".signin-form")&&(e=document.querySelector(".signin-form"),t=document.querySelector(".signup-form"),c=e.querySelector(".caption"),(o=t.querySelector(".caption")).textContent="Уже зарегистрированы?",c.addEventListener("click",function(){e.classList.add("js--hidden"),t.classList.remove("js--hidden")}),o.addEventListener("click",function(){e.classList.remove("js--hidden"),t.classList.add("js--hidden")}))}allNextButtons.forEach(function(e,t){2!==t&&e.addEventListener("click",function(){allSlides[t].classList.add("js--hidden"),allSlides[t+1].classList.remove("js--hidden")})}),setTimeout(activateForms,300);var account,accountMobile,opener,timers=document.querySelectorAll(".message-time"),formContainer=document.querySelectorAll(".chat-form");function modifyTime(){timers.forEach(function(e){var t=(t=e.textContent).slice(11,17);e.textContent=t})}function activateLogout(){var e,t;document.getElementById("menu-header")&&(e=document.getElementById("menu-header").querySelector("a"),(t=document.getElementById("logoutLink")).href=e.href,t.addEventListener("click",function(){localStorage.getItem("logged")&&(localStorage.setItem("logged",!1),document.querySelector(".account").classList.remove("account--logged"))}))}modifyTime(),setTimeout(activateLogout,300),localStorage.getItem("logged")&&"true"==localStorage.getItem("logged")&&(account=document.querySelector(".account"),accountMobile=document.querySelector(".account-mobile"),account.classList.add("account--logged"),accountMobile.classList.add("account--logged")),document.getElementById("menuOpener")&&((opener=document.getElementById("menuOpener")).addEventListener("click",function(){opener.classList.add("opener--active")}),window.onclick=function(e){e.target==opener||e.target.classList.contains("checkSpan")||opener.classList.remove("opener--active")});var allNavLinks,sectionHeader,avatarFrame,pageLocation=window.location.href,props=["Ваш профиль","Ваши сообщения"];(pageLocation.includes("profile")||pageLocation.includes("subscription"))&&(allNavLinks=document.querySelectorAll(".profile-navigation__link"),sectionHeader=document.getElementById("ProfileHeader"),avatarFrame=document.querySelector(".lk-sidebar"),allNavLinks.forEach(function(e,t){4!==t&&(e.href.includes("tab=chat")&&pageLocation.includes("tab=chat")?(e.classList.add("profile-navigation__link--active"),sectionHeader.textContent=props[1],avatarFrame.classList.add("js--hidden")):e.href.includes("user")&&!e.href.includes("chat")&&pageLocation.includes("user")&&!pageLocation.includes("chat")?(e.classList.add("profile-navigation__link--active"),sectionHeader.textContent=props[0]):e.href.includes("subscription")&&pageLocation.includes("subscription")&&e.classList.add("profile-navigation__link--active"))}));